/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.2
 * Generated at: 2018-05-14 01:42:13 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.view.medical.outpatient;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class outOrderOpOrderHistory_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(6);
    _jspx_dependants.put("jar:file:/E:/workspace.hisnew/hisbase/WebContent/WEB-INF/lib/jstl-1.2.jar!/META-INF/fn.tld", Long.valueOf(1153356282000L));
    _jspx_dependants.put("jar:file:/E:/workspace.hisnew/hisbase/WebContent/WEB-INF/lib/jstl-1.2.jar!/META-INF/c.tld", Long.valueOf(1153356282000L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-1.2.jar", Long.valueOf(1525761782870L));
    _jspx_dependants.put("/commons/include/html_doctype.html", Long.valueOf(1525761798654L));
    _jspx_dependants.put("/commons/include/get.jsp", Long.valueOf(1525827802831L));
    _jspx_dependants.put("jar:file:/E:/workspace.hisnew/hisbase/WebContent/WEB-INF/lib/jstl-1.2.jar!/META-INF/fmt.tld", Long.valueOf(1153356282000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">");
      out.write("\n");
      out.write("<html>\n");
      out.write("<head>\n");
      out.write("<title>门诊工作站-历史医嘱</title>\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      if (_jspx_meth_c_005fset_005f0(_jspx_page_context))
        return;
      out.write('\r');
      out.write('\n');
      if (_jspx_meth_c_005fset_005f1(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n");
      out.write("<meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE8\" />\r\n");
      out.write("\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/scripts/boot.js\" type=\"text/javascript\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/commons/dynamic.jsp\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/scripts/core.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/scripts/plugins/template/jquery.tmpl.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/styles/default/css/web.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\n");
      out.write("\n");
      out.write("<style>\n");
      out.write("\t.patientInfo {\n");
      out.write("\t\tcolor:#006aad;\n");
      out.write("\t\tfont-weight:bold;\n");
      out.write("\t}\n");
      out.write("\t.mini-menu-border {\n");
      out.write("\t    border:0; \n");
      out.write("\t}\n");
      out.write("\t.mini-textbox-border {\n");
      out.write("\t   \tborder:0;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t.mini-tabs-bodys {\n");
      out.write("    \tborder:0;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t.mini-buttonedit-input{\n");
      out.write("\t\tborder:0; \n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t.mini-buttonedit-border {\n");
      out.write("\t    border:0px solid #c83030;\n");
      out.write("\t}\n");
      out.write("\t.mini-buttonedit-icon {\n");
      out.write("\t    display: none;\n");
      out.write("\t} \n");
      out.write("\n");
      out.write("\t.mini-buttonedit-icon:hover {\n");
      out.write("\t    display: none;\n");
      out.write("\t} \n");
      out.write("\t.mini-buttonedit-icon {\n");
      out.write("\t    display: none;\n");
      out.write("\t} \n");
      out.write("\t\t\n");
      out.write("\t.mini-tab-active {\n");
      out.write("\t\tfont-size : 20px;\n");
      out.write("\t\tfont-weight: bold; \n");
      out.write("\t\tborder: 1px solid #ccc;\n");
      out.write("\t\tborder-bottom: 0px solid rgb(0, 141, 246);\n");
      out.write("\t\tbackground: #eee;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t.mini-tab-text {\n");
      out.write("\t    display: inline-block;\n");
      out.write("\t    vertical-align: middle;\n");
      out.write("\t    line-height: 16px;\n");
      out.write("\t    font-size: 14px;\n");
      out.write("\t    margin: 5px 2px 0 0;  \n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t.mini-splitter {\n");
      out.write("\t\tmargin:3px;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t#tabs1 {\n");
      out.write("\t\tmargin: 3px 0 0 0 ;\n");
      out.write("\t}\n");
      out.write("</style>\n");
      out.write("    \n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("\t\n");
      out.write("\t// 弹出右键菜单\n");
      out.write("\tfunction onMenuOpen(e) {\n");
      out.write("\t\tvar menu = e.sender;\n");
      out.write("\t\te.htmlEvent.preventDefault();\n");
      out.write("\t\te.cancel = false;\n");
      out.write("\t\treturn;\n");
      out.write("\t\tvar row = grid.getSelected();\n");
      out.write("\t\tvar rowIndex = grid.indexOf(row);\n");
      out.write("\t\tif (!row || rowIndex == 0) {\n");
      out.write("\t\t\te.cancel = true;\n");
      out.write("\t\t\te.htmlEvent.preventDefault();\n");
      out.write("\t\t\treturn;\n");
      out.write("\t\t}\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 加载左边列表\n");
      out.write("\tfunction query() {\n");
      out.write("\t\tvar endTime = new Date();\n");
      out.write("\t\tendTime.setHours(0);\n");
      out.write("\t\tendTime.setMinutes(0);\n");
      out.write("\t\tendTime.setSeconds(0);\n");
      out.write("\t\tgrid.load({\n");
      out.write("\t\t\t\"patientId\" : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.patientId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\",\n");
      out.write("\t\t\t\"registerId\":\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.registerId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\",\n");
      out.write("\t\t\t\"keyType\" : \"1\" ,\n");
      out.write("\t\t\t\"key\" : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.patientId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" ,\n");
      out.write("\t\t\t\"endTime\" : endTime.getTime()\n");
      out.write("\t\t});\n");
      out.write("\t\t\n");
      out.write("\t\tvar url = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/queryAllergenRecord.do\";\n");
      out.write("\t\tvar data = {\"patientId\" : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.patientId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\"};\n");
      out.write("\t\tvar fn = function(info) {\n");
      out.write("\t\t\tallergyRecord .setValue(info);\n");
      out.write("\t\t}\n");
      out.write("\t\t$.post(url, data, fn);\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 单击事件加载右边列表\n");
      out.write("\tfunction onrowclick(e) {\n");
      out.write("\t\tvar registerId = e.row.registerId;\n");
      out.write("\t\tgrid1.load({\n");
      out.write("\t\t\t\"registerId\" : registerId\n");
      out.write("\t\t});\n");
      out.write("\t\tgrid1.groupBy(\"seeNo\", \"asc\");\n");
      out.write("\t\t//  加载左边或者信息\n");
      out.write("\t\tvar register = e.row;\n");
      out.write("\t\tvar patientName = mini.get(\"patientName\");\n");
      out.write("\t\tvar patientId = mini.get(\"patientId\");\n");
      out.write("\t\tvar registerTime = mini.get(\"registerTime\");\n");
      out.write("\t\tvar phone = mini.get(\"phone\");\n");
      out.write("\t\t\n");
      out.write("\t\tpatientName.setValue(register.patientName);\n");
      out.write("\t\tpatientId.setValue(register.patientId);\n");
      out.write("\t\tregisterTime.setValue(register.registerTime);\n");
      out.write("\t\tphone.setValue(register.phone);\n");
      out.write("\t\tallergyRecord.setValue();\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 退出\n");
      out.write("\tfunction quit() {\n");
      out.write("\t\tvar currentTab = top.tabs.activeIndex;\n");
      out.write("\t\tvar tabs = top.tabs;\n");
      out.write("\t\ttabs.removeTab(currentTab);\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 对标题部分做计算操作\n");
      out.write("\tfunction onDrawGroup(e) {\n");
      out.write("\t\tvar totalCost = e.rows[0].totCost;\n");
      out.write("\t\tif (totalCost) {\n");
      out.write("\t\t\te.cellHtml = \"方：\" + totalCost + \"元\";\n");
      out.write("\t\t} else {\n");
      out.write("\t\t\te.cellHtml = \"方：\" + 0 + \"元\";\n");
      out.write("\t\t}\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 渲染医嘱状态\n");
      out.write("\tfunction rendererOrderState(e) {\n");
      out.write("\t\tvar orderState = e.record.orderState;\n");
      out.write("\t\tif (orderState == \"SV\") {\n");
      out.write("\t\t\treturn \"<span style='color:#090'>新</span>\";\n");
      out.write("\t\t} else if (orderState == \"New\") {\n");
      out.write("\t\t\treturn \"<span style='color:#000;'>暂</span>\";\n");
      out.write("\t\t} else if (orderState == \"DC\") {\n");
      out.write("\t\t\treturn \"<span style='color:#f00'>废</span>\";\n");
      out.write("\t\t} else if (orderState == \"FE\") {\n");
      out.write("\t\t\treturn \"<span style='color:#99f'>费</span>\";\n");
      out.write("\t\t}\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t//复制医嘱\n");
      out.write("\tfunction copyOrder() {\n");
      out.write("\t\tparent.copyOrders = grid1.getSelecteds();\n");
      out.write("\t\t\n");
      out.write("\t\tif (parent.copyOrders.length > 0 ) {\n");
      out.write("\t\t\ttop.mini.showTips({content: \"复制成功！\", state: \"success\", x: \"center\", y: \"center\", timeout: 2000});\n");
      out.write("\t\t} \n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 回车事件\n");
      out.write("\tfunction onenter (e) {\n");
      out.write("\t\tvar key = mini.get(\"key\").getValue();\n");
      out.write("\t\tif(!key){\n");
      out.write("\t\t\treturn;\n");
      out.write("\t\t}\n");
      out.write("\t\tvar endTime = new Date();\n");
      out.write("\t\tendTime.setHours(0);\n");
      out.write("\t\tendTime.setMinutes(0);\n");
      out.write("\t\tendTime.setSeconds(0);\n");
      out.write("\t\tvar keyType;\n");
      out.write("\t\tif (isNumber(key)) {\n");
      out.write("\t\t\tkeyType = 1;\n");
      out.write("\t\t} else {\n");
      out.write("\t\t\tkeyType = 0;\n");
      out.write("\t\t}\n");
      out.write("\t\tgrid.load({\n");
      out.write(" \t\t\tpatientId: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.patientId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\",\n");
      out.write("\t\t\tkey: key ,\n");
      out.write("\t\t\tkeyType: keyType ,\n");
      out.write("\t\t\tregisterId: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.registerId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\"\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 单击显示医嘱详细信息\n");
      out.write("\tfunction onrowclick2(e) {\n");
      out.write("\t\tvar itemNo = e.record.itemNo ? e.record.itemNo : \"\";\n");
      out.write("\t\tvar specs = e.record.specs? e.record.specs : \"\";\n");
      out.write("\t\tvar showInfo = \"【药品名称: \" + itemNo +\" \"+ e.record.itemName +\"】【规格:\"+ specs \n");
      out.write("\t\t\t\t\t   +\"】【单价 :\" + e.record.itemPrice +\"元/\"+ e.record.qtyUnit +\"】\";\n");
      out.write("\t\t\n");
      out.write("\t\tvar url = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/getSingleDetail.do\";\n");
      out.write("\t\tvar data = {itemId : e.record.itemId, registerId : e.record.registerId};\n");
      out.write("\t\t$.post(url, data, function(info) {\n");
      out.write("\t\t\tshowInfo += \"\\n\" + info;\n");
      out.write("\t\t\torderInfo.setValue(showInfo);\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 存组套\n");
      out.write("\tfunction saveGroup() {\n");
      out.write("\t\tvar rows = grid1.getSelecteds();\n");
      out.write("\t\tfor(var i = 0 ; i < rows.length; i++) {\n");
      out.write("\t\t\trows[i].frequencyId = rows[i].freqId;\n");
      out.write("\t\t\trows[i].days = rows[i].freqDays;\n");
      out.write("\t\t}\n");
      out.write("\t\tvar url = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/common/medGroup/opEditor.do?orderClassifyType=O&sysType=O\";\n");
      out.write("\t\tmini.open({\n");
      out.write("\t\t\turl : url,\n");
      out.write("\t\t\ttitle:\"组套管理\",\n");
      out.write("\t\t\twidth:\"1024\", height:\"600\",\n");
      out.write("\t\t\tonLoad:function(){\n");
      out.write("\t\t\t\tvar iframe = this.getIFrameEl();\n");
      out.write("\t\t\t\tvar data = mini.clone(rows);\n");
      out.write("\t\t\t\tiframe.contentWindow.setData(data);\n");
      out.write("\t\t\t},\n");
      out.write("\t\t\tondestroy : function(r) {\n");
      out.write("\t\t\t\trefrshGroup();\n");
      out.write("\t\t\t\tif (r == \"ok\") { \n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t} else {\n");
      out.write("\t\t\t\t\ttop.mini.error(r, '提示');\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t}\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("  \t// 面板切换\n");
      out.write("  \tfunction activechanged(e) {\n");
      out.write("\t \tif(e.tab) {\n");
      out.write("\t \t\tif(e.tab.id && e.tab.name == \"save\") {\n");
      out.write("  \t\t\t\tshowOrders();\n");
      out.write("\t \t\t} else {\n");
      out.write("\t \t\t\treturn ; \n");
      out.write("\t \t\t}\n");
      out.write("\t \t}\n");
      out.write("  \t}\n");
      out.write("\t\n");
      out.write("\t // 显示处方\n");
      out.write("    function showOrders() {\n");
      out.write("    \tvar activeTab = tab.getActiveTab();\n");
      out.write("\t   \tif(!activeTab) {\n");
      out.write("\t   \t\tgrid1.clearRows();\n");
      out.write("\t   \t\treturn; \n");
      out.write("\t   \t}\n");
      out.write("\t   \tvar rowSelectd = grid.getSelected();\n");
      out.write("    \tvar rows = [];\n");
      out.write("\t   \tvar url = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/showHistory.do\";\n");
      out.write(" \t\tvar data = {registerId : rowSelectd.registerId};\n");
      out.write(" \t\t $.post(url, data, function(orders) {\n");
      out.write(" \t\t\tfor(var i = 0; i < orders.length; i++) {\n");
      out.write("\t\t\t\tif(orders[i].seeNo == activeTab.id) {\n");
      out.write("\t\t\t\t\tif (parseInt(orders[i].subMaterialFlag) == 0) {\n");
      out.write("\t\t\t\t\t   rows.push(orders[i]);\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t}\t\t\n");
      out.write("\t\t\t}\n");
      out.write(" \t\t\tgrid1.loadData(rows);\n");
      out.write(" \t\t });\n");
      out.write("     }\n");
      out.write("\t\n");
      out.write("\t// 添加一个处方\n");
      out.write("\t function addTab(newRecipe) {\n");
      out.write("         var addTab1 = tab.addTab(newRecipe);\n");
      out.write("         tab.activeTab(addTab1);\n");
      out.write("     }\n");
      out.write("\t\n");
      out.write("\t// 对标题部分做计算操作\n");
      out.write("\tfunction calcTotCost(billId , rows) {\n");
      out.write("\t\tvar totalCost = 0;\n");
      out.write("\t\tfor(var i = 0; i < rows.length; i++) {\n");
      out.write("\t\t\tif(rows[i].seeNo == billId) {\n");
      out.write("\t\t\t\ttotalCost += rows[i].totCost;\n");
      out.write("\t\t\t}\n");
      out.write("\t\t}\n");
      out.write("\t\t return totalCost.toFixed(2);\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 显示历史医嘱\n");
      out.write("\tfunction onrowclicks(e) {\n");
      out.write("\t\tgrid1.clearRows();\n");
      out.write("\t\ttab.removeAll();\n");
      out.write("\t\tvar seeNoArr = [];\n");
      out.write("\t\t$.ajax({\n");
      out.write("\t           type: \"post\", \n");
      out.write("\t\t       url: \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/showHistory.do\", \n");
      out.write("\t\t       cache : false, \n");
      out.write("\t\t       async: false,\n");
      out.write("\t\t       data : {registerId : e.row.registerId},\n");
      out.write("\t\t\t   success: function(orders) {\n");
      out.write("\t\t\t\t\tvar number = 1; \n");
      out.write("\t\t\t\t\tfor(var i = 0; i < orders.length; i++) {\n");
      out.write("\t\t\t\t\t\tvar seeNo = orders[i].seeNo;\n");
      out.write("\t\t\t\t\t\tif(seeNoArr.indexOf(seeNo) == -1) {\n");
      out.write("\t\t\t\t\t\t\tseeNoArr.push(orders[i].seeNo);\n");
      out.write("\t\t\t\t\t\t\tvar totCost = calcTotCost(orders[i].seeNo, orders);\n");
      out.write("\t\t\t\t\t\t\tvar order = orders[i];\n");
      out.write("\t\t\t\t\t\t\tvar style = \"color: #000;\";\n");
      out.write("\t\t\t\t\t\t\tif(order.orderState == \"New\") {\n");
      out.write("\t\t\t\t\t\t\t\tstyle = \"color: #000;\";\n");
      out.write("\t\t\t\t\t\t\t} else if(order.orderState == \"SV\") {\n");
      out.write("\t\t\t\t\t\t\t\tstyle = \"color: #090;\";\n");
      out.write("\t\t\t\t\t\t\t} else if(order.orderState == \"FE\") {\n");
      out.write("\t\t\t\t\t\t\t\tstyle = \"color: #99f;\";\n");
      out.write("\t\t\t\t\t\t\t} else if(order.orderState == \"DC\") {\n");
      out.write("\t\t\t\t\t\t\t\tstyle = \"color: #f00;\";\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\tvar recipe = {\n");
      out.write("\t\t\t\t\t\t\t\t  id: orders[i].seeNo,\n");
      out.write("\t\t\t\t\t\t\t\t  name: \"save\",\n");
      out.write("\t\t\t\t\t\t\t\t  title: \"方\"+ number +\"【<span>\"+ totCost +\"元</span>】\",\n");
      out.write("\t\t\t\t\t\t\t\t  order : order,\n");
      out.write("\t\t\t\t\t\t\t\t  showCloseButton: true,\n");
      out.write("\t\t\t\t\t\t\t\t  headerStyle: style,\n");
      out.write("\t\t\t\t\t\t\t\t  bodyStyle: \"\"\n");
      out.write("\t\t\t\t\t\t\t};\n");
      out.write("\t\t\t\t\t\t\taddTab(recipe);\n");
      out.write("\t\t\t\t\t\t\tnumber++;\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t};\n");
      out.write("\t\t\t\t\tvar tabArr = tab.getTabs(); \n");
      out.write("\t\t\t\t\ttab.activeTab(tabArr[0]);\t\t\t\n");
      out.write("\t\t\t  }\n");
      out.write("\t\t});\n");
      out.write("\t\tmini.get(\"patientName\").setValue(e.row.patientName);\n");
      out.write("\t\tmini.get(\"patientId\").setValue(e.row.patientId);\n");
      out.write("\t\tmini.get(\"registerTime\").setValue(e.row.registerTime);\n");
      out.write("\t\tmini.get(\"phone\").setValue(e.row.phone);\n");
      out.write("\t\t\n");
      out.write("\t\tvar url = \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/queryAllergenRecord.do\";\n");
      out.write("\t\tvar data = {\"patientId\" : e.row.patientId};\n");
      out.write("\t\t$.post(url, data, function(info) {\n");
      out.write("\t\t\tallergyRecord .setValue(info);\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 初始化\n");
      out.write("\tfunction initOrder() {\n");
      out.write("\t\ttab.removeAll();\n");
      out.write("\t\tvar recipe = {id: \"\", name: \"eg\", title: \"处方显示\", showCloseButton: false,headerStyle: \"color:#000\"};\n");
      out.write("\t\taddTab(recipe);\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t// 查询当前患者历史医嘱\n");
      out.write("\tfunction currentRegister() {\n");
      out.write("\t\tmini.get(\"#key\").setValue(\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${register.patientName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\");\n");
      out.write("\t\tonenter();\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tfunction show() {\n");
      out.write("\t\t$(\".menubar\").show();\n");
      out.write("\t\t$(\".hideBegin\").show();\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tvar dataPiShe = [ {id : 'WO',text : '不需皮试'}, {id : 'ND',text : '需皮试'}, {id : 'FR',text : '免试'}, {id : 'NT',text : '阴性'\t}, {id : 'PT',text : '阳性'} ];\n");
      out.write("</script>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("\t<ul class=\"mini-menubar menubar\" style=\"width:100%;border: 0;display:none;\">\n");
      out.write("\t\t<li iconCls=\"fa fa-plus-square\" onclick=\"copyOrder\">复制</li>\n");
      out.write("\t\t<li iconCls=\"fa fa-window-close\" onclick=\"quit\">退出</li>\n");
      out.write("\t</ul>\n");
      out.write("\t\n");
      out.write("\t<!-- 左侧 表格-->\n");
      out.write("\t<div class=\"mini-fit\">\n");
      out.write("\t\t<div class=\"mini-splitter hideBegin\" style=\"width:99%; height:95%;display:none;\">\n");
      out.write("\t\t\t<div size=\"35%;\" showCollapseButton=\"false\">\n");
      out.write("\t\t\t\t<div id=\"filterGroupclassify\" style=\"height: 25px;font-size:15px;border-bottom:1px solid #ccc;padding:5px 0 5px 10px;\">\n");
      out.write("\t\t\t\t\t输入：<input class=\"mini-textbox\" id=\"key\" emptyText=\"输入病历号或姓名\" onenter=\"onenter\"/> \n");
      out.write("\t\t\t\t\t  <a class=\"mini-button\"  onclick=\"onenter\">查询</a>\t\t \n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"mini-fit\">\n");
      out.write("\t\t\t\t\t<div id=\"grid1\" showPager=\"false\" borderStyle=\"border:0;border-right:0;\" allowDrag=\"true\" allowDrop=\"false\"\n");
      out.write("\t\t\t\t\t\tclass=\"mini-datagrid\" style=\"width:100%; height:100%;\" url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/opExpRegister/getHistoryRegById.do\" onrowclick=\"onrowclicks\"\n");
      out.write("\t\t\t\t\t\tshowTreeIcon=\"true\" multiSelect=\"true\" allowCellValid=\"true\" allowCellEdit=\"true\" allowCellSelect=\"true\">\n");
      out.write("\t\t\t\t\t   <div property=\"columns\">\n");
      out.write("\t\t\t\t\t\t\t<div type=\"indexColumn\" width=\"50\" headerAlign=\"center\" align=\"center\">序号</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"idnetifierNo\" width=\"150\" visible=\"true\" headerAlign=\"center\" align=\"center\">身份证</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"birthDate\" width=\"80\" visible=\"true\" dateFormat=\"yyyy-MM-dd\" headerAlign=\"center\" align=\"center\">出生日期</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"patientId\" headerAlign=\"center\" align=\"center\">病人ID</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"registerId\"  visible=\"false\" >registerId</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"patientName\" headerAlign=\"center\" align=\"center\">姓名</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"seeDoctId\"  type=\"comboboxColumn\" headerAlign=\"center\" align=\"center\"> 看诊医生\n");
      out.write("\t\t\t\t\t\t\t\t<input property=\"editor\" class=\"mini-combobox\"  url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/platform/system/sysUser/getKVs.do\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"seeTime\" headerAlign=\"center\" align=\"center\" dateFormat=\"yyyy年MM月dd日 hh时mm分ss秒\">看诊时间</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"seeDeptId\"  type=\"comboboxColumn\" headerAlign=\"center\" align=\"center\">看诊科室\n");
      out.write("\t\t\t\t\t\t\t\t<input property=\"editor\" class=\"mini-combobox\"  url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/platform/system/sysOrg/getKVs.do\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t<!-- 右侧表格 -->\n");
      out.write("\t\t\t<div showCollapseButton=\"false\">\n");
      out.write("\t\t\t\t<div id=\"filterGroupclassify\" class=\"hideBegin\" style=\"display:none; height:25px;font-size:15px;padding:0px 0 5px 10px;\">\n");
      out.write("\t\t\t\t\t<div width=\"100%\" style=\"margin:0px 0 0 0; \">\n");
      out.write("\t\t\t\t\t\t<p style=\"height:20px;width:1000px;\">\n");
      out.write("\t\t\t\t\t\t\t患者：<input class=\"mini-textbox\" id=\"patientName\" readonly=\"true\"/>\n");
      out.write("\t\t\t\t\t\t\t病历号：<input class=\"mini-textbox\" id=\"patientId\" readonly=\"true\"/>\n");
      out.write("\t\t\t\t\t\t\t挂号时间：<input class=\"mini-datePicker\" id=\"registerTime\" readonly=\"true\"/>\n");
      out.write("\t\t\t\t\t\t\t联系电话：<input class=\"mini-textbox\" id=\"phone\" readonly=\"true\"/>\n");
      out.write("\t\t\t\t\t\t\t药物过敏史：<input class=\"mini-textbox\" id=\"allergyRecord\"  readonly=\"true\"/>\n");
      out.write("\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div id=\"tabs1\" class=\"mini-tabs\" activeIndex=\"0\" style=\"width:100%;height:30px;\" onactivechanged=\"activechanged\"></div>\n");
      out.write("\t\t\t\t<div class=\"mini-fit\" >\n");
      out.write("\t\t\t\t\t<div id=\"grid2\" showPager=\"false\" borderStyle=\"border:0; border-top:1px solid #ccc;\" allowDrag=\"true\" allowDrop=\"false\" onselect=\"onrowclick2\"\n");
      out.write("\t\t\t\t\t\tclass=\"mini-datagrid\" style=\"width:100%; height:70%;\" url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/outpatient/outOrder/showHistory.do\" allowCellSelect=\"true\"\n");
      out.write("\t\t\t\t\t\tshowTreeIcon=\"true\" multiSelect=\"true\" allowCellValid=\"true\" allowCellEdit=\"false\" \n");
      out.write("\t\t\t\t\t\teditNextOnEnterKey=\"true\"  onDrawGroup=\"onDrawGroup\" contextMenu=\"#gridMenu\">\n");
      out.write("\t\t\t\t\t   <div property=\"columns\">\n");
      out.write("\t\t\t\t\t   \t\t<div field=\"checkColumn\" type=\"checkColumn\"></div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"orderState\"  headerAlign=\"center\"   width=\"50\" visible=\"true\"  align=\"center\"   renderer=\"rendererOrderState\">状态</div>\n");
      out.write("\t\t\t\t\t\t\t<div type=\"indexColumn\" headerAlign=\"center\"  width=\"50\">序号</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"subcombNo\" headerAlign=\"center\" align=\"center\" width=\"50\">组号</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"itemSysType\" type=\"comboboxcolumn\" width=\"70\" headerAlign=\"center\" align=\"center\">系统类别\n");
      out.write("\t\t\t\t\t\t\t\t <input property=\"editor\" class=\"mini-combobox\" style=\"width:100%;\" onvaluechanged=\"onValueChanged4\" \n");
      out.write("\t\t\t\t\t\t\t\t \turl=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/scripts/enums/outOrderSysType.json\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div name=\"taskname\" field=\"itemName\" displayField=\"itemName\" width=\"220\"  headerAlign=\"center\" vtype=\"required\">项目名称\n");
      out.write("\t\t\t\t\t\t\t\t<div property=\"editor\" class=\"mini-autocomplete\" valueFromSelect=\"true\" style=\"width:100%;\" required=\"true\" \n");
      out.write("\t\t\t\t\t\t\t\t\t allowInput=\"true\" popupWidth=\"500\" textField=\"name\" enterQuery=\"true\" valueField=\"name\" onvaluechanged=\"onValueChanged1\" \n");
      out.write("\t\t\t\t\t\t\t\t\t url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/pharmacy/common/comDrug/getDrugList.do\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div property=\"columns\">\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"系统分类\" field=\"itemSysType\" align=\"center\" headerAlign=\"center\"  visible=\"true\">系统分类</div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"编号\" field=\"id\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"编号\" field=\"no\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"名称\" field=\"name\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"规格\" field=\"specs\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"单位\" field=\"unit\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"单价\" field=\"price\" align=\"center\" headerAlign=\"center\" ></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div field=\"groupNoFlag\" width=\"20\" >*</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"specs\" width=\"90\" headerAlign=\"center\" align=\"center\">规格</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"ordDosage\" width=\"80\" headerAlign=\"center\" vtype=\"\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t每次用量 <input property=\"editor\" class=\"mini-textbox\" style=\"width:100%;\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div field=\"ordDosageUnit\" width=\"80\" headerAlign=\"center\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t用量单位 <input property=\"editor\" class=\"mini-textbox\" style=\"width:100%;\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div field=\"totalCost\" visible=\"false\">总费用</div>\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div field=\"freqId\" name=\"freqId\" type=\"comboboxColumn\" headerAlign=\"center\"  autoShowPopup=\"true\" align=\"center\" width=\"120\">频次\n");
      out.write("\t\t\t\t\t\t\t\t <div property=\"editor\" class=\"mini-combobox\" popupWidth=\"400\" required=\"true\"  showPopup=\"true\"\n");
      out.write("\t\t\t\t\t\t\t\t \t  allowInput=\"true\" url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/common/frequency/getKVs.do\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div property=\"columns\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"名称\" field=\"text\"></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"频次编码\" field=\"id\"></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div header=\"次数\" field=\"execCount\"></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"usageId\" visible=\"false\" >用法编码</div> \n");
      out.write("\t\t\t\t\t\t\t<div field=\"usageId\" type=\"comboboxColumn\" headerAlign=\"center\" autoShowPopup=\"true\" align=\"center\" >用法\n");
      out.write("\t\t\t\t\t\t\t\t<div property=\"editor\" class=\"mini-combobox\" popupWidth=\"400\" url=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/medical/common/medUsage/getKVs.do\" \n");
      out.write("\t\t\t\t\t\t\t\t\t required=\"true\" allowInput=\"true\" showPopup=\"true\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<div property=\"columns\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div header=\"编号\" field=\"id\"></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div header=\"药品用法\" field=\"text\"></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"qty\" width=\"100\" headerAlign=\"center\" align=\"center\">总量</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"qtyUnit\" width=\"80\" headerAlign=\"center\" align=\"center\">单位</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"stockDeptId\" type=\"comboboxcolumn\" width=\"100\" headerAlign=\"center\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t取药药房<input property=\"editor\" class=\"mini-combobox\" style=\"width:100%;\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\turl=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/platform/system/sysOrg/getKVs.do?orgType=P\" />\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"memo\" width=\"120\" headerAlign=\"center\" align=\"center\">备注</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"emergencyFlag\" type=\"checkboxcolumn\" width=\"120\" trueValue=\"1\" falseValue=\"0\" headerAlign=\"center\">急</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"stFlag\" width=\"120\" headerAlign=\"center\" align=\"center\" type=\"comboboxcolumn\">\n");
      out.write("\t\t\t\t\t\t\t\t皮试<input property=\"editor\" class=\"mini-combobox\" style=\"width:100%;\" \n");
      out.write("\t\t\t\t\t\t\t\t\trequired=\"true\" data=\"dataPiShe\"/>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t<div field=\"recipeDoctorName\" width=\"120\" headerAlign=\"center\" align=\"center\">开立医生</div>\n");
      out.write("\t\t\t\t\t\t\t<div field=\"createdTime\" width=\"120\" headerAlign=\"center\" align=\"center\" dateFormat=\"yyyy-MM-dd HH:mm:ss\">开立时间</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t    \t\t\t\t<div class=\"hideBegin\" style=\"display:none;width:100%;height:150px;border-top:1px solid #ccc;\">\n");
      out.write("\t\t\t\t\t\t\t<div style=\"border-bottom:1px solid #ccc; padding-left :10px;\">详细信息</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"mini-textarea\" id=\"detailInfo\" style=\"width:100%;height:100%;\" borderStyle=\"border:0;\"></div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\t\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t</div>\n");
      out.write("\t</div>\n");
      out.write("\t<ul id=\"gridMenu\" class=\"mini-contextmenu\" style=\"display:none;\" onbeforeopen=\"onMenuOpen\">\n");
      out.write("\t\t<li onclick=\"copyOrder\">复制</li>\n");
      out.write("\t\t<li onclick=\"saveGroup\">存组套</li>\n");
      out.write("\t</ul>\n");
      out.write("\t\n");
      out.write("\t<script type=\"text/javascript\">\n");
      out.write("\t\tmini.parse();\n");
      out.write("\t\tvar grid = mini.get(\"grid1\");\n");
      out.write("\t\tvar grid1 = mini.get(\"grid2\");\n");
      out.write("\t\tvar tab = mini.get(\"tabs1\")\n");
      out.write("\t\tvar orderInfo = mini.get(\"detailInfo\");\t\n");
      out.write("\t\tvar allergyRecord = mini.get(\"allergyRecord\");\n");
      out.write("\t\tcurrentRegister();\n");
      out.write("\t\tshow();\n");
      out.write("\t\t\n");
      out.write("\t</script>\n");
      out.write("</body>\n");
      out.write("</html>\n");
      out.write("\n");
      out.write("\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fset_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f0 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f0_reused = false;
    try {
      _jspx_th_c_005fset_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f0.setParent(null);
      // /commons/include/get.jsp(5,0) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setVar("ctx");
      // /commons/include/get.jsp(5,0) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setValue(new org.apache.jasper.el.JspValueExpression("/commons/include/get.jsp(5,0) '${pageContext.request.contextPath}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${pageContext.request.contextPath}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int _jspx_eval_c_005fset_005f0 = _jspx_th_c_005fset_005f0.doStartTag();
      if (_jspx_th_c_005fset_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
      _jspx_th_c_005fset_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fset_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f1 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f1_reused = false;
    try {
      _jspx_th_c_005fset_005f1.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f1.setParent(null);
      // /commons/include/get.jsp(6,0) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f1.setVar("emr");
      // /commons/include/get.jsp(6,0) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f1.setValue(new org.apache.jasper.el.JspValueExpression("/commons/include/get.jsp(6,0) '${emrContextPath}'",_jsp_getExpressionFactory().createValueExpression(_jspx_page_context.getELContext(),"${emrContextPath}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
      int _jspx_eval_c_005fset_005f1 = _jspx_th_c_005fset_005f1.doStartTag();
      if (_jspx_th_c_005fset_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f1);
      _jspx_th_c_005fset_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f1_reused);
    }
    return false;
  }
}
